import { Dimensions } from "react-native";

const jsonString = `
{"a":{"components":{"parent":{"children":["dcv5xFzQP","YGau1f4vJ","AWsyKjwSp"]},"dcv5xFzQP":{"type":"layout","displayName":"layout_absolute","config":{"x":10,"y":10,"height":200,"width":290},"backgroundColor":"none","absolute":true,"grid":false,"key":"dcv5xFzQP","parentId":"parent","children":["esUr2eBRa"]},"esUr2eBRa":{"type":"button","displayName":"button","config":{"x":96,"y":83,"height":30,"width":80},"title":"button","color":"primary","backgroundColor":"primary","parentId":"dcv5xFzQP","key":"esUr2eBRa","actionType":"navigate","navigate":"b"},"6PmfF4Jr6s":{"type":"layout","displayName":"layout_grid","config":{"x":10,"y":10,"height":150,"width":200},"backgroundColor":"secondary","cols":1,"rows":1,"grid":true,"key":"6PmfF4Jr6s","parentId":"YGau1f4vJ","style":{"borderRadius":"15px"},"children":[]},"iv6cdVp3mS":{"type":"layout","displayName":"layout_grid","config":{"x":10,"y":10,"height":150,"width":200},"backgroundColor":"secondary","cols":1,"rows":1,"grid":true,"key":"iv6cdVp3mS","parentId":"YGau1f4vJ","style":{"borderRadius":"15px"},"children":["fTXDNZT_1"]},"YGau1f4vJ":{"type":"carousel","displayName":"Carrusel","config":{"x":0,"y":199,"height":200,"width":290},"selected":1,"backgroundColor":"primary","key":"YGau1f4vJ","parentId":"parent","children":["6PmfF4Jr6s","iv6cdVp3mS"]},"fTXDNZT_1":{"type":"button","displayName":"button","config":{"x":5,"y":100,"height":30,"width":80},"title":"button","color":"primary","backgroundColor":"primary","parentId":"iv6cdVp3mS","key":"fTXDNZT_1"},"AWsyKjwSp":{"type":"map","displayName":"map","config":{"x":0,"y":398.99998474121094,"height":198,"width":289},"lat":0,"lng":0,"zoom":3,"markers":[{"lat":0,"lng":0}],"key":"AWsyKjwSp","parentId":"parent"}}},"b":{"components":{"parent":{"children":["RBolJ5CBx","VDcRB3DDT","Epr34E2fj"]},"RBolJ5CBx":{"type":"layout","displayName":"layout_grid","config":{"x":-1,"y":-1,"height":159,"width":289},"backgroundColor":"primary","cols":1,"rows":1,"grid":true,"key":"RBolJ5CBx","parentId":"parent","children":["pzFSFbOrB"]},"pzFSFbOrB":{"type":"list","displayName":"list","config":{"x":20,"y":20,"height":100,"width":200},"backgroundColor":"secondary","elementType":"indicators","elements":[{"icon":"world","text":"Example","secondary":"test","helper":"80%","helperSecondary":"asd"},{"text":"element 1","icon":"headphones"},{"text":"element 2","icon":"folder"}],"parentId":"RBolJ5CBx","key":"pzFSFbOrB"},"VDcRB3DDT":{"type":"layout","displayName":"layout_grid","config":{"x":-1,"y":158,"height":187,"width":292},"backgroundColor":"secondary","cols":1,"rows":1,"grid":true,"key":"VDcRB3DDT","parentId":"parent","children":["axZheL9aD"]},"axZheL9aD":{"type":"list","displayName":"list","config":{"x":20,"y":20,"height":100,"width":200},"backgroundColor":"none","elementType":"navigation","elements":[{"text":"Example","secondary":"test","url":"https://atienda.pe/img/logos/og-logo.png"},{"text":"element 1","icon":"none","progress":"23"},{"text":"element 2","icon":"none","url":"https://atienda.pe/img/logos/og-logo.png","secondary":"as"}],"parentId":"VDcRB3DDT","key":"axZheL9aD","style":{"backgroundColor":"gray"}},"Epr34E2fj":{"type":"layout","displayName":"layout_grid","config":{"x":-1,"y":342.99998474121094,"height":250,"width":292},"backgroundColor":"none","cols":1,"rows":1,"grid":true,"key":"Epr34E2fj","parentId":"parent","children":["kWmXOyU8z","j2Xff_dtt"],"style":{"backgroundColor":"red"}},"kWmXOyU8z":{"type":"list","displayName":"list","config":{"x":20,"y":20,"height":180,"width":200},"backgroundColor":"none","elementType":"progress","elements":[{"text":"Example","secondary":"test","url":"https://atienda.pe/img/logos/og-logo.png","progress":30},{"text":"element 1","icon":"none","secondary":"as","progress":"1","url":"https://atienda.pe/img/logos/og-logo.png"},{"text":"element 2","icon":"none","progress":"67","secondary":"e"},{"text":"element 3","icon":"none","url":"https://atienda.pe/img/logos/og-logo.png","progress":"50"}],"parentId":"Epr34E2fj","key":"kWmXOyU8z","style":{"backgroundColor":"yellow"}},"j2Xff_dtt":{"type":"button","displayName":"button","config":{"x":5,"y":100,"height":30,"width":80},"title":"button","color":"primary","backgroundColor":"primary","parentId":"Epr34E2fj","key":"j2Xff_dtt","actionType":"navigate","navigate":"a"}}}}
`;
// {"main":{"components":{"parent":{"children":["OPanBVrvY","ROjyh8HLD","QTeCayevw","dB3fw4iGB"]},"fWV1AAGTcQ":{"type":"image","displayName":"image","config":{"x":205,"y":10,"height":50,"width":50},"url":"https://i.picsum.photos/id/784/200/200.jpg?hmac=5EDfQlW8ug7LDGI9M8P-ywBxc0DWi9OzpGMATZiYPdQ","key":"fWV1AAGTcQ","parentId":"OPanBVrvY"},"FU9038vcF9":{"type":"icon","displayName":"help_icon","config":{"x":10,"y":10,"height":25,"width":25},"icon":"help","color":"primary","backgroundColor":"none","key":"FU9038vcF9","parentId":"OPanBVrvY","style":{}},"xdW4deNjQu":{"type":"text","displayName":"title","config":{"x":205,"y":10,"height":40,"width":100},"title":"Titulo","textType":"title2","key":"xdW4deNjQu","parentId":"OPanBVrvY","style":{"fontSize":"20px","marginLeft":"10px","marginRight":"70px"}},"OPanBVrvY":{"type":"layout","displayName":"main_header","config":{"x":0,"y":0,"height":60,"width":290},"backgroundColor":"none","cols":0,"rows":1,"grid":false,"key":"OPanBVrvY","parentId":"parent","children":["fWV1AAGTcQ","xdW4deNjQu","FU9038vcF9"]},"UvKCxPWA2y":{"type":"text","displayName":"Login","config":{"x":205,"y":10,"height":40,"width":250},"title":"Login","textType":"title2","key":"UvKCxPWA2y","parentId":"ROjyh8HLD"},"blXqYQGwDe":{"type":"input","displayName":"user","config":{"x":102,"y":300,"height":40,"width":250},"title":"Usuario","backgroundColor":"secondary","isPassword":false,"key":"blXqYQGwDe","parentId":"ROjyh8HLD"},"L9oMPEztdg":{"type":"input","displayName":"password","config":{"x":102,"y":300,"height":40,"width":250},"title":"ContraseÃ±a","backgroundColor":"secondary","isPassword":true,"key":"L9oMPEztdg","parentId":"ROjyh8HLD"},"ZUyL_nUfDp":{"type":"button","displayName":"login_btn","config":{"x":5,"y":100,"height":30,"width":80},"title":"Login","color":"primary","key":"ZUyL_nUfDp","parentId":"ROjyh8HLD"},"ROjyh8HLD":{"type":"layout","displayName":"login_form","config":{"x":0,"y":60,"height":200,"width":290},"backgroundColor":"none","cols":1,"rows":0,"grid":false,"key":"ROjyh8HLD","parentId":"parent","children":["UvKCxPWA2y","blXqYQGwDe","L9oMPEztdg","ZUyL_nUfDp"],"style":{"justifyItems":"center"}},"kHk-1fO15S":{"type":"layout","displayName":"cards_2","config":{"x":0,"y":0,"height":140,"width":290},"backgroundColor":"none","cols":0,"rows":1,"grid":false,"key":"kHk-1fO15S","parentId":"QTeCayevw","children":["dQGLVWicSW","3y1CJNz9EX"]},"PJTgsCxMxt":{"type":"layout","displayName":"cards_2","config":{"x":0,"y":0,"height":140,"width":290},"backgroundColor":"none","cols":0,"rows":1,"grid":false,"key":"PJTgsCxMxt","parentId":"QTeCayevw","children":["sp1CQomB2e","Zylg9aHI3r"]},"dQGLVWicSW":{"type":"layout","displayName":"card","config":{"x":0,"y":0,"height":100,"width":100},"backgroundColor":"primary","cols":1,"rows":0,"grid":false,"key":"dQGLVWicSW","parentId":"kHk-1fO15S","children":["1tNnYx4pp"],"style":{"borderRadius":"10px","margin":"15px"}},"3y1CJNz9EX":{"type":"layout","displayName":"card","config":{"x":0,"y":0,"height":100,"width":100},"backgroundColor":"primary","cols":1,"rows":0,"grid":false,"key":"3y1CJNz9EX","parentId":"kHk-1fO15S","children":["YE3cFW98N"],"style":{"borderRadius":"10px","margin":"15px"}},"sp1CQomB2e":{"type":"layout","displayName":"card","config":{"x":0,"y":0,"height":100,"width":100},"backgroundColor":"primary","cols":1,"rows":0,"grid":false,"key":"sp1CQomB2e","parentId":"PJTgsCxMxt","children":["YXgSUVo-1"],"style":{"borderRadius":"10px","margin":"15px"}},"Zylg9aHI3r":{"type":"layout","displayName":"card","config":{"x":0,"y":0,"height":100,"width":100},"backgroundColor":"primary","cols":1,"rows":0,"grid":false,"key":"Zylg9aHI3r","parentId":"PJTgsCxMxt","children":["LKmOCaXLB"],"style":{"borderRadius":"10px","margin":"15px"}},"QTeCayevw":{"type":"layout","displayName":"cards_4","config":{"x":0,"y":259,"height":280,"width":290},"backgroundColor":"none","cols":1,"rows":0,"grid":false,"key":"QTeCayevw","parentId":"parent","children":["kHk-1fO15S","PJTgsCxMxt"]},"WRLMWi56f2":{"type":"text","displayName":"footer_text","config":{"x":205,"y":10,"height":40,"width":100},"title":"Footer","textType":"title2","key":"WRLMWi56f2","parentId":"dB3fw4iGB"},"dB3fw4iGB":{"type":"layout","displayName":"footer","config":{"x":0,"y":545,"height":50,"width":290},"backgroundColor":"none","cols":0,"rows":1,"grid":false,"key":"dB3fw4iGB","parentId":"parent","children":["WRLMWi56f2"]},"YXgSUVo-1":{"type":"text","displayName":"text","config":{"x":205,"y":10,"height":30,"width":100},"title":"card 3","textType":"body","parentId":"sp1CQomB2e","key":"YXgSUVo-1"},"LKmOCaXLB":{"type":"text","displayName":"text","config":{"x":205,"y":10,"height":30,"width":100},"title":"card 4","textType":"body","parentId":"Zylg9aHI3r","key":"LKmOCaXLB"},"1tNnYx4pp":{"type":"text","displayName":"text","config":{"x":205,"y":10,"height":30,"width":100},"title":"card 1","textType":"body","parentId":"dQGLVWicSW","key":"1tNnYx4pp"},"YE3cFW98N":{"type":"text","displayName":"text","config":{"x":205,"y":10,"height":30,"width":100},"title":"card 2","textType":"body","parentId":"3y1CJNz9EX","key":"YE3cFW98N"}}}}
// `
const windowWidth = Dimensions.get("window").width;
const windowHeight = Dimensions.get("window").height;

const json = JSON.parse(jsonString);

Object.keys(json).forEach((page) => {
  Object.keys(json[page].components).forEach((key) => {
    if (key !== "parent") {
      json[page].components[key].config.width =
        (json[page].components[key].config.width / 290) * windowWidth;
      json[page].components[key].config.height =
        (json[page].components[key].config.height / 595) * windowHeight;

      json[page].components[key].config.x =
        (json[page].components[key].config.x / 290) * windowWidth;
      json[page].components[key].config.y =
        (json[page].components[key].config.y / 595) * windowHeight;
    }
  });
});

export default json;
