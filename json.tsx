import {Dimensions} from 'react-native';

// const jsonString =  `
// {"main":{"components":{"iuxEKwyOv":{"type":"layout","displayName":"layout_column","config":{"x":0,"y":-3,"height":260,"width":292},"backgroundColor":"none","cols":1,"rows":0,"grid":false,"key":"iuxEKwyOv","style":{"borderRadius":"10px","backgroundColor":"blue"}},"7Li5n1Vgf":{"type":"layout","displayName":"layout_grid","config":{"x":10,"y":10,"height":50,"width":250},"backgroundColor":"none","cols":4,"rows":1,"grid":true,"key":"7Li5n1Vgf","parentId":"iuxEKwyOv","style":{"backgroundColor":"yellow"}},"i8B1soRUbD":{"type":"layout","displayName":"layout_grid","config":{"x":10,"y":10,"height":150,"width":250},"backgroundColor":"none","cols":1,"rows":1,"grid":true,"key":"i8B1soRUbD","parentId":"iuxEKwyOv","style":{"backgroundColor":"green"}},"V4wEMCd-g":{"type":"layout","displayName":"layout_grid","config":{"x":10,"y":10,"height":50,"width":250},"backgroundColor":"none","cols":3,"rows":1,"grid":true,"key":"V4wEMCd-g","parentId":"iuxEKwyOv","style":{"backgroundColor":"red"}},"xnQrtSjrm":{"type":"icon","displayName":"icon","config":{"x":10,"y":10,"height":50,"width":50},"icon":"leftArrow","color":"primary","backgroundColor":"none","key":"xnQrtSjrm","parentId":"7Li5n1Vgf"},"h_LDQ_opZ":{"type":"text","displayName":"text","config":{"x":"215","y":10,"height":"40","width":"120"},"title":"ATienda","textType":"title1","key":"h_LDQ_opZ","parentId":"7Li5n1Vgf"},"y7ucA-G6-":{"type":"icon","displayName":"icon","config":{"x":10,"y":10,"height":"30","width":"30"},"icon":"question","color":"primary","backgroundColor":"none","key":"y7ucA-G6-","parentId":"7Li5n1Vgf","style":{"marginLeft":"20px"}},"HNYPlPW5xJ":{"type":"icon","displayName":"icon","config":{"x":10,"y":10,"height":"30","width":"30"},"icon":"headphone","color":"primary","backgroundColor":"none","key":"HNYPlPW5xJ","parentId":"7Li5n1Vgf"},"OHsJNSPIl":{"type":"text","displayName":"text","config":{"x":205,"y":10,"height":30,"width":"200"},"title":"Bienvenido de Nuevo","textType":"title2","key":"OHsJNSPIl","parentId":"i8B1soRUbD"},"kUCoPDFqO":{"type":"input","displayName":"input","config":{"x":102,"y":300,"height":"53","width":"230"},"title":"Usuario","color":"secondary","isPassword":false,"key":"kUCoPDFqO","parentId":"i8B1soRUbD","style":{"margin":"0px","padding":"0px"}},"mGpnsmeTR":{"type":"input","displayName":"input","config":{"x":102,"y":300,"height":"53","width":"230"},"title":"Contrasena","color":"secondary","isPassword":true,"key":"mGpnsmeTR","parentId":"i8B1soRUbD"},"BNgW4aEpK":{"type":"text","displayName":"text","config":{"x":205,"y":10,"height":30,"width":"120"},"title":"Nueva Contrsena","textType":"body","key":"BNgW4aEpK","parentId":"V4wEMCd-g","style":{"marginRight":"20px"}},"nbajAggYi":{"type":"button","displayName":"button","config":{"x":5,"y":100,"height":"20","width":"70"},"title":"Ingresar","color":"primary","key":"nbajAggYi","parentId":"V4wEMCd-g","style":{"paddingLeft":"10px","paddingRight":"10px","paddingTop":"0px","paddingBottom":"0px"}},"Yr70QxfOr":{"type":"icon","displayName":"icon","config":{"x":10,"y":10,"height":"35","width":"35"},"icon":"worldWide","color":"primary","backgroundColor":"none","key":"Yr70QxfOr","parentId":"V4wEMCd-g"},"bizqQUzGv":{"type":"layout","displayName":"layout_grid","config":{"x":3,"y":261,"height":332,"width":289},"backgroundColor":"none","cols":2,"rows":1,"grid":true,"key":"bizqQUzGv"},"Bt5h-vtuK":{"type":"layout","displayName":"layout_grid","config":{"x":10,"y":10,"height":50,"width":50},"backgroundColor":"none","cols":1,"rows":1,"grid":true,"key":"Bt5h-vtuK","parentId":"bizqQUzGv","style":{"backgroundColor":"brown"}},"-4mLR3NpA":{"type":"layout","displayName":"layout_grid","config":{"x":10,"y":10,"height":50,"width":50},"backgroundColor":"none","cols":1,"rows":1,"grid":true,"key":"-4mLR3NpA","parentId":"bizqQUzGv","style":{"backgroundColor":"purple"}},"AirjOb9UMH":{"type":"layout","displayName":"layout_grid","config":{"x":10,"y":10,"height":50,"width":50},"backgroundColor":"none","cols":1,"rows":1,"grid":true,"key":"AirjOb9UMH","parentId":"bizqQUzGv","style":{"backgroundColor":"gray"}},"IEduoLzM4":{"type":"layout","displayName":"layout_grid","config":{"x":10,"y":10,"height":50,"width":50},"backgroundColor":"none","cols":1,"rows":1,"grid":true,"key":"IEduoLzM4","parentId":"bizqQUzGv","style":{"backgroundColor":"orange"}}}}}
// `

const jsonString = `
{"main":{"components":{"syCwBs8ju":{"type":"layout","displayName":"layout_row","config":{"x":69,"y":66,"height":56,"width":143},"backgroundColor":"none","cols":0,"rows":1,"grid":false,"key":"syCwBs8ju","style":{"backgroundColor":"red"}},"xHjIlNN_T":{"type":"layout","displayName":"layout_column","config":{"x":107,"y":434,"height":110,"width":67},"backgroundColor":"none","cols":1,"rows":0,"grid":false,"key":"xHjIlNN_T","style":{"backgroundColor":"green"}},"dwoYmOs5Y":{"type":"icon","displayName":"icon","config":{"x":10,"y":10,"height":50,"width":50},"icon":"question","color":"primary","backgroundColor":"none","key":"dwoYmOs5Y","parentId":"xHjIlNN_T"},"rMT65c_j8g":{"type":"icon","displayName":"icon","config":{"x":10,"y":10,"height":50,"width":50},"icon":"question","color":"primary","backgroundColor":"none","key":"rMT65c_j8g","parentId":"xHjIlNN_T"},"KXlNUq5sr":{"type":"icon","displayName":"icon","config":{"x":10,"y":10,"height":50,"width":50},"icon":"question","color":"primary","backgroundColor":"none","key":"KXlNUq5sr","parentId":"syCwBs8ju"},"N2oR-vfYa_":{"type":"icon","displayName":"icon","config":{"x":10,"y":10,"height":50,"width":50},"icon":"question","color":"primary","backgroundColor":"none","key":"N2oR-vfYa_","parentId":"syCwBs8ju"},"0-5ed31QG":{"type":"layout","displayName":"layout_grid","config":{"x":33,"y":165,"height":223,"width":231},"backgroundColor":"secondary","cols":2,"rows":1,"grid":true,"key":"0-5ed31QG"},"KqjqHKe9z":{"type":"icon","displayName":"icon","config":{"x":10,"y":10,"height":50,"width":50},"icon":"question","color":"primary","backgroundColor":"none","key":"KqjqHKe9z","parentId":"0-5ed31QG"},"xiRdeyizq":{"type":"icon","displayName":"icon","config":{"x":10,"y":10,"height":50,"width":50},"icon":"question","color":"primary","backgroundColor":"none","key":"xiRdeyizq","parentId":"0-5ed31QG"},"gl3NEOM0ne":{"type":"icon","displayName":"icon","config":{"x":10,"y":10,"height":50,"width":50},"icon":"question","color":"primary","backgroundColor":"none","key":"gl3NEOM0ne","parentId":"0-5ed31QG"},"MAbe_UEAx6":{"type":"icon","displayName":"icon","config":{"x":10,"y":10,"height":50,"width":50},"icon":"question","color":"primary","backgroundColor":"none","key":"MAbe_UEAx6","parentId":"0-5ed31QG"},"3fjVw5g1s":{"type":"icon","displayName":"icon","config":{"x":10,"y":10,"height":50,"width":50},"icon":"question","color":"primary","backgroundColor":"none","key":"3fjVw5g1s","parentId":"0-5ed31QG"}}}}
`

//"test":{"type":"empty","key":"test","parentId":"KLl1fBqZz"}
const windowWidth = Dimensions.get('window').width;
const windowHeight = Dimensions.get('window').height;

console.log(windowHeight);
console.log(windowWidth);

const json = JSON.parse(jsonString)

Object.keys(json.main.components).forEach(key => {
    if(json.main.components[key].type === "empty") return;
    json.main.components[key].config.width = json.main.components[key].config.width / 293 * windowWidth;
    json.main.components[key].config.height = json.main.components[key].config.height / 595 * windowHeight;

    json.main.components[key].config.x = json.main.components[key].config.x / 293 * windowWidth;
    json.main.components[key].config.y = json.main.components[key].config.y / 595 * windowHeight;
});

export default json;